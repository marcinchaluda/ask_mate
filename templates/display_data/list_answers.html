{% extends 'display_data/display_data_layout.html' %}
{% block title %}
    Answers List | Ask-Mate
{% endblock title %}
{% block header %}
    Answers List
{% endblock header %}
{% block title_header %}
    <p>Question title: {{ question_details['title'] }}</p>
    <p>Question message: {{ question_details['message'] }}</p>
    {% if answer_details == [] %}
            <p>No answers has been given for above questions</p>
        {% else %}
            {% for header in answer_headers %}
                <th>
                    {{ header.replace("_", " ").title() }}
                    <form action="/question/{{ answer_details['id'] }}" method="get" class="sorting_form">
                    <input type="hidden" name="sort_by" value="{{ header }}">
                    <input type="hidden" name="order_descending" value="False">
                    <input class="sort_triangle_up" type="submit" alt="Sort by {{ header | replace('_', ' ') }}, ascending"
                           src="{{ url_for('static', filename='images/triangle.png') }}"
                           title="Sort by {{ header | replace('_', ' ') }}, ascending">
                    </form>
                    <form action="/question/{{ answer_details['id'] }}" method="get" class="sorting_form">
                        <input type="hidden" name="sort_by" value="{{ header }}">
                        <input type="hidden" name="order_descending" value="True">
                        <input class="sort_triangle_down" type="submit" alt="Sort by {{ header | replace('_', ' ') }}, descending"
                               src="{{ url_for('static', filename='images/triangle.png') }}"
                               title="Sort by {{ header | replace('_', ' ') }}, descending">
                    </form>
                </th>
            {% endfor %}
    {% endif %}
{% endblock title_header %}
{% block content %}
    <p>Given answers for above question:</p>
        {% for dictionary in answer_details %}
            <tr>
            {% for answer_key, answer_value in dictionary.items() %}
                {% if answer_key == "message" %}
                    <td>{{ answer_value }}
                        <a href="/answer/{{ dictionary['id'] }}/delete">
                            <img class="trashico" src="{{ url_for('static', filename='images/trash.png') }}"
                                 title="delete this answer">
                        </a>
                        <div class="vote">
                        <a href="/answer/{{ dictionary['id'] }}/vote_up">
                            <button type="button">Vote up</button>
                        </a>
                        <a href="/answer/{{ dictionary['id'] }}/vote_down">
                            <button type="button">Vote down</button>
                        </a>
                        </div>
                    </td>
                {% else %}
                    <td><p>{{ answer_value }}</p></td>
                {% endif %}
            {% endfor %}
            </tr>
        {% endfor %}
{% endblock content %}
{% block go_back_button %}
    <a href="/list">
        <button type="button">Go Back!</button>
    </a>
{% endblock go_back_button %}
{% block new_answer_button %}
    <a href="{{ question_details['id'] }}/new_answer">
        <button type="button">Add new answer</button>
    </a>
{% endblock new_answer_button %}
{% block edit_button %}
    <a href="{{ question_details['id'] }}/edit">
        <button type="button">Edit this question</button>
    </a>
{% endblock edit_button %}
{% block  delete_question_buton %}
    <a href="{{ question_details['id'] }}/delete">
        <button type="button">Delete this question</button>
    </a>
{% endblock  delete_question_buton %}