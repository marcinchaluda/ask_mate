{% extends 'display_data/display_data_layout.html' %}
{% block links%}
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Contrail+One&display=swap" rel="stylesheet">
{% endblock links %}
{% block title %}
    Questions List | Ask-Mate
{% endblock title %}
{% block header %}
    Question List
{% endblock header %}
{% block main_menu %}
    <a href="/add_question">
        <button type="button">Add new question</button>
    </a>
{% endblock main_menu %}
{% block title_header %}
    {% for header in question_headers %}
        {% if header in ['submission_time', 'view_number', 'vote_number', 'title', 'message'] %}  {# sorting headers #}
            <th>
                {{ header.replace("_", " ").title() }}
                 <a href="/list?sort_by={{ header }}&order_descending=False">
                    <img class="sort_triangle_up" alt="Sort by {{ header | replace('_', ' ') }}, ascending"
                         src="{{ url_for('static', filename='images/triangle.png') }}"
                         title="Sort by {{ header | replace('_', ' ') }}, ascending">
                 </a>
                <a href="/list?sort_by={{ header }}&order_descending=True">
                    <img class="sort_triangle_down" alt="Sort by {{ header | replace('_', ' ') }}, descending"
                         src="{{ url_for('static', filename='images/triangle.png') }}"
                         title="Sort by {{ header | replace('_', ' ') }}, descending">
                </a>
            </th>
        {%  else %}
            <th>{{ header.replace("_", " ").title() }}</th>
        {% endif %}
    {% endfor %}
{% endblock title_header %}
{% block content %}
    {% for question in questions %}
        <tr>
        {% for question_key, question_value in question.items() %}
            {% if question_key == "title" %}
                <td>
                    <a href="/question/{{ question['id'] }}" class="hover_highlight">{{ question_value }}</a>
                    <div class="vote">
                        <a href="/question/{{ question['id'] }}/vote_up">
                            <i class="fas fa-arrow-circle-up" title="Vote Up"></i>
                        </a>
                        <a href="/question/{{ question['id'] }}/vote_down">
                            <i class="fas fa-arrow-circle-down" title="Vote Down"></i>
                        </a>
                    </div>
                </td>
            {% else %}
            <td>
                    <p>{{ question_value }}</p>
            </td>
            {% endif %}
        {% endfor %}
        </tr>
    {% endfor %}
{% endblock content %}